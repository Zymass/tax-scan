# –†–µ–∑—é–º–µ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –±–∞–≥–∏

### 1. –ë–∞–≥ —Å –Ω—É–ª—è–º–∏ –≤ PDF –æ—Ç—á–µ—Ç–µ –∑–∞ 2027-2028 –≥–æ–¥—ã
**–ü—Ä–æ–±–ª–µ–º–∞:** –í PDF –æ—Ç—á–µ—Ç–µ –¥–ª—è 2027 –∏ 2028 –≥–æ–¥–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –Ω—É–ª–∏.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã `tax_2027` –∏ `tax_2028` –≤ `pdfData` –≤ –º–µ—Ç–æ–¥–µ `getPdf` –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ `calculations.controller.ts`.

**–§–∞–π–ª:** `backend/src/controllers/calculations.controller.ts`

## üìù –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

### Backend —Ç–µ—Å—Ç—ã

#### 1. Services
- ‚úÖ `tax-calculator.service.test.ts` - —Ä–∞—Å—à–∏—Ä–µ–Ω —Ç–µ—Å—Ç–∞–º–∏ –¥–ª—è 2027 –∏ 2028 –≥–æ–¥–æ–≤
  - –¢–µ—Å—Ç—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –Ω–∞–ª–æ–≥–æ–≤ –ø–æ –≥–æ–¥–∞–º
  - –¢–µ—Å—Ç—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä–æ–≥–æ–≤ –ù–î–° (15M –¥–ª—è 2027, 10M –¥–ª—è 2028)
  - –¢–µ—Å—Ç—ã –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ —Ä–∞—Å—á–µ—Ç–æ–≤

- ‚úÖ `calculations.service.test.ts` - –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
  - –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–æ–≤
  - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–æ–≤
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —à–∞–≥–æ–≤
  - –†–∞—Å—á–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

- ‚úÖ `auth.service.test.ts` - –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

#### 2. Controllers
- ‚úÖ `calculations.controller.test.ts` - –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —à–∞–≥–æ–≤
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF —Å –¥–∞–Ω–Ω—ã–º–∏ –≤—Å–µ—Ö –ª–µ—Ç
  - –†–∞—Å—á–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### 3. Middleware
- ‚úÖ `auth.middleware.test.ts`
  - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
  - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤

- ‚úÖ `error.middleware.test.ts`
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  - –†–∞–∑–Ω—ã–µ —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- ‚úÖ `validation.middleware.test.ts`
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
  - –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ø–æ–ª–µ–π

#### 4. Utils
- ‚úÖ `tax-rules.test.ts` - —É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª, –ø—Ä–æ–≤–µ—Ä–µ–Ω
- ‚úÖ `validators.test.ts` - –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
  - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–∞
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ —Ñ–æ—Ä–º—ã

- ‚úÖ `pdf-generator.test.ts` - –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –¥–ª—è –≤—Å–µ—Ö –ª–µ—Ç
  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
  - –ü–æ—Ä–æ–≥–∏ –ù–î–°

#### 5. Integration Tests
- ‚úÖ `calculations.routes.integration.test.ts`
  - –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–æ–≤
  - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–æ–≤
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —à–∞–≥–æ–≤
  - –†–∞—Å—á–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF

- ‚úÖ `auth.routes.integration.test.ts`
  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
  - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–æ–≤

- **–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:** 12
- **Unit —Ç–µ—Å—Ç—ã:** 10 —Ñ–∞–π–ª–æ–≤
- **Integration —Ç–µ—Å—Ç—ã:** 2 —Ñ–∞–π–ª–∞
- **–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**
  - ‚úÖ Services (3/3)
  - ‚úÖ Controllers (1/2 - calculations, auth –Ω—É–∂–µ–Ω)
  - ‚úÖ Middleware (3/3)
  - ‚úÖ Utils (3/3)
  - ‚úÖ API Routes (2/3 - calculations, auth, actions –Ω—É–∂–µ–Ω)

## üîß –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–î–æ–±–∞–≤–ª–µ–Ω—ã –≤ `package.json`:
- `supertest` - –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- `@types/supertest` - —Ç–∏–ø—ã –¥–ª—è TypeScript

## üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
cd backend
npm test
```

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤:
```bash
npm test -- --testPathPattern="tax-calculator"
npm test -- --testPathPattern="calculations"
```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. –î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ —Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ `supertest`:
   ```bash
   npm install --save-dev supertest @types/supertest
   ```

2. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –º–æ–≥—É—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–æ–≤–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

3. –¢–µ—Å—Ç—ã –¥–ª—è `auth.controller` –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ `calculations.controller`.

4. –¢–µ—Å—Ç—ã –¥–ª—è `actions.controller` –∏ `actions.routes` –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–∞

–ë–∞–≥ —Å –Ω—É–ª—è–º–∏ –≤ PDF –¥–ª—è 2027-2028 –≥–æ–¥–æ–≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω. –¢–µ–ø–µ—Ä—å –≤ PDF –æ—Ç—á–µ—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö —á–µ—Ç—ã—Ä–µ—Ö –ª–µ—Ç (2025-2028).
